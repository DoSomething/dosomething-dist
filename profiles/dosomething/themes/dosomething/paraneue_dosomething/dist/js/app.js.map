{"version":3,"file":"app.js","sources":["text.js","finder/templates/campaign.tpl.html!text","finder/Campaign.js","text!finder/templates/no-results.tpl.html","finder/ResultsView.js","finder/SolrAdapter.js","finder/templates/error.tpl.html!text","finder/FormView.js","finder/Finder.js","neue/carousel.js","neue/events.js","neue/jump-scroll.js","neue/menu.js","neue/messages.js","neue/modal.js","neue/scroll-indicator.js","neue/sticky.js","neue/validation.js","neue/main.js","campaign/sources.js","campaign/tips.js","campaign/tabs.js","campaign/shirts.js","campaign/ImageUploader.js","validation/auth.js","validation/reportback.js","validation/address.js","Analytics.js","tiles.js"],"names":[],"mappings":"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","sourcesContent":["define('text',{load: function(id){throw new Error(\"Dynamic load not allowed: \" + id);}});\n","\ndefine('text!finder/templates/campaign.tpl.html',[],function () { return '<li>\\n<article class=\"tile tile--campaign campaign-result<% if(featured) { %> big<% } %>\">\\n  <a class=\"wrapper\" href=\"<%= url %>\">\\n    <% if(staffPick) {  %><div class=\"__flag -staff-pick\"><%= Drupal.t(\"Staff Pick\") %></div><% } %>\\n    <div class=\"tile--meta\">\\n      <h1 class=\"__title\"><%= title %></h1>\\n      <p class=\"__tagline\"><%= description %></p>\\n    </div>\\n    <img src=\"data:image/gif;base64,R0lGODlhAQABAIAAAAUEBAAAACwAAAAAAQABAAACAkQBADs=\" data-src=\"<%= image %>\">\\n  </a>\\n</article>\\n</li>\\n';});\n\n","define('finder/Campaign',['require','jquery','lodash','text!finder/templates/campaign.tpl.html'],function(require) {\n  \"use strict\";\n\n  var $ = require(\"jquery\");\n  var _ = require(\"lodash\");\n  var campaignTplSrc =  require(\"text!finder/templates/campaign.tpl.html\");\n\n  /**\n   * Campaign JS object representation\n   * @param {Object} data The raw campaign data\n   */\n  var Campaign = function (data) {\n    // Default values for a newly created campaign\n    var defaults = {\n      title: Drupal.t(\"New Campaign\"),\n      description: Drupal.t(\"Take your dad to get his blood pressure checked\"),\n      url: \"#\",\n      staffPick: false,\n      featured: false\n    };\n\n    // Merge the campaign object from data with the defaults into\n    // this campaign object\n    $.extend(this, defaults, this.convert(data));\n  };\n\n  /**\n   * Convert fields from the Solr results to relevant local, friendlier\n   * field names.\n   *\n   * @param  {Object} data The raw campaign object\n   *\n   * @return {Object} The new data translated and ignoring\n   */\n  Campaign.prototype.convert = function (data) {\n    var newData = {};\n    var map = {\n      \"label\": \"title\",\n      \"sm_field_call_to_action\": \"description\",\n      \"url\": \"url\",\n      \"bs_field_staff_pick\": \"staffPick\",\n      \"bs_sticky\": \"featured\",\n      \"ss_field_search_image_400x400\": \"image\"\n    };\n\n    // Only populate fields that we care about from the map.\n    for (var i in data) {\n      if (map[i] !== undefined) {\n        newData[map[i]] = data[i];\n      }\n    }\n\n    return newData;\n  };\n\n  /**\n   * Render a campaign\n   * @return {jQuery} The jQuery object that is the rendered representation of this Campaign\n   */\n  Campaign.prototype.render = function () {\n    var $wrapper = _.template(campaignTplSrc, {\n      \"image\": this.image,\n      \"staffPick\": this.staffPick,\n      \"featured\": this.featured,\n      \"title\": this.title,\n      \"description\": this.description,\n      \"url\": this.url\n    });\n\n    return $wrapper;\n  };\n\n  return Campaign;\n});\n\n","\ndefine('text!finder/templates/no-results.tpl.html',[],function () { return '<div class=\"no-result\">\\n  <div class=\"wrapper\">\\n    <p class=\"message\"><%= Drupal.t(\"Oh snap! We\\'ll work on that.\") %></p>\\n    <p>\\n      <a id=\"reset-filters\" href=\"/\">\\n        <%= Drupal.t(\"Want to try another combo?\") %>\\n      </a>\\n    </p>\\n  </div>\\n</div>\\n';});\n\n","define('finder/ResultsView',['require','jquery','lodash','finder/Campaign','text!finder/templates/no-results.tpl.html'],function(require) {\n  \"use strict\";\n\n  var $ = require(\"jquery\");\n  var _ = require(\"lodash\");\n  var Campaign = require(\"finder/Campaign\");\n  var noResultsTplSrc = require(\"text!finder/templates/no-results.tpl.html\");\n\n  /**\n   * ResultsView manages search results from Finder\n   * @type {Object}\n   */\n  var ResultsView = {\n    // The container element where the results go\n    $container: null,\n\n    // The gallery located in the container\n    $gallery: $(\"<ul class='gallery -mosaic'></ul>\"),\n\n    // The div that is shown if no filters are selected\n    $blankSlateDiv: null,\n\n    // How many slots are currently used. Full-height = 2, half-height = 1\n    slots: 0,\n\n    // How many slots are we allowing\n    maxSlots: 8,\n\n    // For tracking what page we're on\n    start: 0,\n\n    /**\n     * Construct the cloneables and set the parent div where the results go\n     * @param  {jQuery} $container        The container element where the results will live\n     * @param  {jQuery} $blankSlateDiv    The div containing initial pre-filtered state\n     * @param  {function} paginateAction  Function to query next page of results.\n     */\n    init: function ($container, $blankSlateDiv, paginateAction, clearFormAction) {\n      ResultsView.$container = $container;\n      ResultsView.$container.hide();\n\n\n      ResultsView.$paginationLink = $(\n        \"<div class='pagination-link'><a href='#' class='secondary js-finder-show-more'>\" +\n          Drupal.t(\"Show More\") +\n        \"</a></div>\"\n      );\n\n      $(\"body\").on(\"click\", \".js-finder-show-more\", function(event) {\n        event.preventDefault();\n        paginateAction(ResultsView.start);\n      });\n\n      ResultsView.$blankSlateDiv = $blankSlateDiv;\n\n      ResultsView.$container.on(\"click\", \"#reset-filters\", function(event) {\n        event.preventDefault();\n\n        ResultsView.showBlankSlate();\n\n        // TODO: Maybe allow for FormView.clear() to be called from ResultsView so\n        // it doesn't have to be passed in as an argument to the init().\n        clearFormAction();\n      });\n    },\n\n    /**\n     * Shows the blank slate div (initial state).\n     */\n    showBlankSlate: function() {\n      ResultsView.$container.hide();\n      ResultsView.$blankSlateDiv.show();\n    },\n\n    /**\n     * Shows the empty slate div (no results state).\n     */\n    showEmptyState: function() {\n      var message = _.template(noResultsTplSrc);\n\n      ResultsView.$container.append(message);\n    },\n\n    /**\n     * Replace current results with new data\n     * @param  {Object} data The raw data from the query\n     */\n    parseResults: function (data) {\n      // Remove the old results\n      ResultsView.clear();\n\n      if (data.retrieved > 0) {\n        // Results view cleared, and since we have results add the gallery into the container.\n        ResultsView.$container.append(ResultsView.$gallery);\n\n        // Loopy loop! (Like me after drinking coffeeeee)\n        for (var i in data.result.response.docs) {\n          ResultsView.add(new Campaign(data.result.response.docs[i]));\n        }\n\n        // There are more results than we've shown so far, add \"Show More\" button\n        ResultsView.showPaginationLink(data.result.response.numFound > ResultsView.start);\n      } else {\n        ResultsView.showEmptyState();\n      }\n\n      // Hey! We're done loading! I guess we can let the users know we're done.\n      ResultsView.loading(false);\n    },\n\n    /**\n     * Show or hide pagination link.\n     * @param {boolean} showLink    Should link be shown?\n     */\n    showPaginationLink: function(showLink) {\n      ResultsView.$paginationLink.remove();\n\n      if(showLink) {\n        ResultsView.$container.append(ResultsView.$paginationLink);\n        ResultsView.$paginationLink.show();\n      }\n    },\n\n    /**\n     * Append to current results with new data.\n     * @param  {Object} data The raw data from the query\n     */\n    appendResults: function (data) {\n      // Add those results to the page!\n      for (var i in data.result.response.docs) {\n        ResultsView.add(new Campaign(data.result.response.docs[i]));\n      }\n\n      // There are more results than we've shown so far, add \"Show More\" button\n      ResultsView.showPaginationLink(data.result.response.numFound > ResultsView.start);\n\n      // Hey! We're done loading! I guess we can let the users know we're done.\n      ResultsView.loading(false);\n    },\n\n    /**\n     * Toggle the loading indicator for the results div\n     * @param  {boolean} setTo Should I stay or should I go? If I go there will be trouble...or clicking.\n     */\n    loading: function (setTo) {\n      // Allow the function to be called without a parameter, since X.loading() would seem\n      // to be a logical call.\n      if (setTo === undefined) {\n        setTo = true;\n      }\n\n      // If we're loading, add a class to the results div. Otherwise, remove it.\n      ResultsView.$container.append(\"<div class='spinner'></div>\");\n      ResultsView.$container.toggleClass(\"loading\", setTo);\n    },\n\n    /**\n     * Have we run the init method?\n     */\n    checkInit: function () {\n      if (ResultsView.$container === null) {\n        // Nope. I'm gonna vomit...\n        throw Drupal.t(\"Error: ResultsView is not initialized.\");\n      }\n\n      // Yup.\n    },\n\n    /**\n     * Remove the current results and reboot this object.\n     */\n    clear: function () {\n      ResultsView.checkInit();\n      ResultsView.$container.empty();\n      ResultsView.$gallery.empty();\n\n      ResultsView.$container.show();\n      ResultsView.$blankSlateDiv.hide();\n\n\n      ResultsView.slots = 0;\n      ResultsView.start = 0;\n    },\n\n    /**\n     * Add a campaign to the results\n     * @param {Campaign} campaign The campaign to add\n     */\n    add: function (campaign) {\n      // Make sure we've initialized ourself\n      ResultsView.checkInit();\n\n      // If we're full, screw it.\n      // if (ResultsView.slots === ResultsView.maxSlots) {\n      //   return;\n      // }\n\n      // Render campaign object and append to the gallery\n      ResultsView.$gallery.append(campaign.render());\n      ResultsView.slots++;\n\n      // Track where we are for paging\n      ResultsView.start++;\n\n      // Lazy-load in images\n      ResultsView.$container.find(\"img\").unveil(200, function() {\n        $(this).load(function() {\n          this.style.opacity = 1;\n        });\n      });\n    }\n  };\n\n  return ResultsView;\n});\n\n","define('finder/SolrAdapter',['require','jquery','lodash'],function(require) {\n  \"use strict\";\n\n  var $ = require(\"jquery\");\n  var _ = require(\"lodash\");\n\n  // Create a callback function for caching the jsonp response.\n  /* jshint ignore:start */\n  window.solrResponse = function(response) {};\n  /* jshint ignore:end */\n\n  /**\n   * SolrAdapter acts as a mediator between Solr and the Campaign Finder.\n   *\n   * @type {Object}\n   */\n  var SolrAdapter = {\n    /*\n     * Sets how long after a user interaction we run the Solr query. As the\n     * name implies, this is a throttling mechanism that prevents the browser\n     * from pinging Solr every...single...time...a checkbox is changed.\n     **/\n    throttleTimeout: 400,\n\n    /*\n     * Configure this too. What's the base URL of the Solr server that you want\n     * the browser pinging? And what collection?\n     **/\n    baseURL: Drupal.settings.dosomethingSearch.solrURL,\n    collection: Drupal.settings.dosomethingSearch.collection,\n\n    // The current throttle timeout identifier\n    throttle: null,\n\n    // This would be awesome with an object key:value, but Solr allows multiple of the same key\n    defaultQuery: [\n      \"fq=-sm_field_campaign_status:(closed) bundle:[campaign TO campaign_group]\",\n      //\"fq=ss_field_search_image:[* TO *]\",\n      \"wt=json\",\n      \"indent=false\",\n      \"facet=true\",\n      \"facet.field=fs_field_active_hours\",\n      \"facet.field=im_field_cause\",\n      \"facet.field=im_field_action_type\",\n      // TODO: un-hard-code the rows\n      \"rows=8\",\n      \"fl=label,tid,im_vid_1,sm_vid_Action_Type,tm_vid_1_names,im_field_cause,im_vid_2,sm_vid_Cause,tm_vid_2_names,im_field_tags,im_vid_5,sm_vid_Tags,tm_vid_5_names,fs_field_active_hours,sm_field_call_to_action,bs_field_staff_pick,ss_field_search_image_400x400,ss_field_search_image_720x720,url\"\n    ],\n\n    // Map the input field names to the Solr query fields\n    fieldMap: {\n      \"cause\": \"im_field_cause\",\n      \"time\": \"fs_field_active_hours\",\n      \"action-type\": \"im_field_action_type\"\n    },\n\n    // Inverse mapping of fieldMap (duhhh)\n    fieldMapInverse: {},\n\n\n    // Container for Ajax response data\n    responseData: null,\n\n    /**\n     * Initialize the SolrAdapter.\n     */\n    init: function() {\n      // Create an inverse mapping so we can go from Solr field name to local field name\n      SolrAdapter.fieldMapInverse = _.invert(SolrAdapter.fieldMap);\n    },\n\n    /**\n     * Run the query after a specified timeout.\n     *\n     * @param checkedFields      Array of fields selected in the interface.\n     * @param offset             Offset to start results from (used for pagination).\n     * @param responseCallback   Function called when query successfully completes.\n     */\n    throttledQuery: function(checkedFields, offset, responseCallback) {\n      // Cancel the current pending query and set a new one\n      clearTimeout(SolrAdapter.throttle);\n\n      // Set a timeout so we don't immediately ping the Solr server\n      SolrAdapter.throttle = setTimeout(function() {\n        SolrAdapter.query(checkedFields, offset, responseCallback);\n      }, SolrAdapter.throttleTimeout);\n    },\n\n    /**\n     * Run the query against the Solr server\n     *\n     * @param checkedFields      Array of fields selected in the interface.\n     * @param offset             Offset to start results from (used for pagination).\n     * @param responseCallback   Function called when query successfully completes.\n     */\n    query: function (checkedFields, offset, responseCallback) {\n      /**\n       * A clone of the default query so we don't modify it directly\n       * @type {Array}\n       */\n      var query = _.clone(SolrAdapter.defaultQuery);\n      query.push(\"start=\" + offset);\n\n      /**\n       * The \"q\" parameter passed to Solr\n       * @type {Array}\n       */\n      var q = [];\n\n      _.forOwn(checkedFields, function(fields, fieldGroup) {\n        // Don't build parameter if we're not sorting by anything in this field group.\n        if( !_.isEmpty(fields) ) {\n          // Build a param query\n          var param = \"(\" + fields.join(\") OR (\") + \")\";\n\n          /*\n           * Use a powerset to weight items. For example, given:\n           *   ☑ Animals\n           *   ☑ Disasters\n           * We should weight results that are animals AND disasters before results\n           * that are animals OR disasters.\n           **/\n          var powerset = SolrAdapter.generatePowerset(fields);\n          if (powerset.length) {\n            param += \" OR \" + powerset;\n          }\n\n          // Push the newly built parameter onto the q parameter\n          q.push(SolrAdapter.fieldMap[fieldGroup] + \":\" + \"(\" + encodeURIComponent(param) + \")\");\n        }\n      });\n\n      // If we're already running an AJAX request, cancel it\n      if (SolrAdapter.xhr) {\n        SolrAdapter.xhr.abort();\n      }\n\n      // Store the AJAX request locally\n      SolrAdapter.xhr = $.ajax({\n        dataType: \"jsonp\",\n        cache: true,\n        jsonpCallback: \"solrResponse\",\n        url: SolrAdapter.buildQuery(query, q),\n        success: function (data) {\n          responseCallback({\n            result: data,\n            retrieved: data.response.docs.length,\n          });\n        },\n        error: function(data, errorType) {\n          responseCallback({\n            result: false,\n            error: errorType\n          });\n        },\n        // We use jsonp for X-domain compatibility\n        jsonp: \"json.wrf\"\n      });\n    },\n\n    /**\n     * Build a Solr query based on a base query string (what comes after the ?)\n     * and a \"q\" which goes into the \"q=\" part of said query string.\n     *\n     * @param  {String} query The query string\n     * @param  {String} q     The string for concatting into the q= parameter\n     *\n     * @return {String} The entire URL to query against\n     */\n    buildQuery: function (query, q) {\n      // Add \"q=\" to the query array, and keep track of its position because we\"re going\n      // to need to modify it (less memory!)\n      var pos = query.push(\"q=\") - 1;\n\n      // Add a function query to bubble staff picks, sponsored, and high season to the top.\n      var bubble = \"_query_:\\\"{!func}scale(is_bubble_factor,0,100)\\\" AND \";\n\n      if (q.length > 0) {\n        // If there is a query, join that sucker together\n        if (q.length === 1) {\n          query[pos] = \"q=\" + bubble + q[0];\n        } else {\n          query[pos] = \"q=\" + bubble + \"(\" + q.join(\") AND (\") + \")\";\n        }\n      } else {\n        query[pos] = bubble;\n      }\n\n      // Join the query array together as a URL query string\n      query = query.join(\"&\");\n\n      return SolrAdapter.baseURL + SolrAdapter.collection + \"/select?\" + query;\n    },\n\n    /**\n     * This one's fun! We want to generate power sets so we can weight results in a search.\n     *\n     * Instead of reading the code, here's an example!\n     *\n     * [a, b, c]\"s powerset+weight is:\n     * - []             IGNORED (i=0)\n     * - [a]            IGNORED (length=1)\n     * - [b]            IGNORED (length=1)\n     * - [c]            IGNORED (length=1)\n     * - (a AND b)      ^200\n     * - (b AND c)      ^200\n     * - (a AND b AND c)^300\n     *\n     *\n     * @param  {Array} params Parameters to powerset-ize\n     *\n     * @return {String} A powerset-ized query string joined by OR\n     */\n    generatePowerset: function (params) {\n      // Create a powerset\n      // See: http://rosettacode.org/wiki/Power_set#JavaScript\n      function powerset(ary) {\n        var ps = [[]];\n        for (var i=0; i < ary.length; i++) {\n          for (var j = 0, len = ps.length; j < len; j++) {\n            ps.push(ps[j].concat(ary[i]));\n          }\n        }\n        return ps;\n      }\n\n      // Generate the powerset\n      var variations = powerset(params);\n\n      // The placeholder query\n      var q = [];\n\n      // Loop through and build the string query\n      for (var i = 1; i < variations.length; i++) {\n        if (variations[i].length > 1) {\n          // Generate a string of format: ((a) AND (b) AND (c OR d))^X\n          // We need the second set of parenthesis beacuse some parameters are in the format\n          // \"c OR d\" or \"[* TO 2]\"\n          q.push(\"((\" + variations[i].join(\") AND (\") + \"))^\" + (100*variations[i].length));\n        }\n      }\n\n      return q.join(\" OR \");\n    }\n  };\n\n  return SolrAdapter;\n});\n\n","\ndefine('text!finder/templates/error.tpl.html',[],function () { return '<div class=\"messages error\">\\n  <%= Drupal.t(\"Ooof! We\\'re not sure what\\'s up? Maybe it\\'s us, or it could be your internet connection. Want to try again in a few minutes?\") %>\\n</div>\\n';});\n\n","define('finder/FormView',['require','jquery','lodash','finder/ResultsView','finder/SolrAdapter','text!finder/templates/error.tpl.html'],function(require) {\n  \"use strict\";\n\n  var $ = require(\"jquery\");\n  var _ = require(\"lodash\");\n  var ResultsView = require(\"finder/ResultsView\");\n  var SolrAdapter = require(\"finder/SolrAdapter\");\n  var errorTplSrc = require(\"text!finder/templates/error.tpl.html\");\n\n  /**\n   * FormView manages the filter form for Finder\n   * @type {Object}\n   */\n  var FormView = {\n    // The div where the form goes\n    $div: null,\n\n    // <button> that mobile users click to initiate the search\n    $searchButton: null,\n\n    // The field groups that contain the checkmarks\n    $fields: {},\n\n    // The last field group that was changed (by name)\n    lastChanged: null,\n\n    // TODO: Can we get this from CSS somewhere instead so it's not hard-coded?\n    cssBreakpoint: 768,\n\n    /**\n     * Construct the cloneables and set the parent div where the results go\n     * @param  {jQuery} $div The div where the results will live\n     */\n    init: function ($div, queryCallback) {\n      FormView.$div = $div;\n\n      // Prepare toggles\n      $div.find(\"[data-toggle]\").click(function () {\n        var $this = $(this),\n          toggleClass = $this.data(\"toggle\"),\n          $parent = $this.parent(\".\" + toggleClass),\n          $siblings = $parent.siblings();\n\n        $parent.toggleClass(\"open\");\n\n        // Need to treat siblings slightly differently to safeguard when going from mobile to desktop.\n        if ($(window).outerWidth() >= FormView.cssBreakpoint) {\n          if ($parent.hasClass(\"open\")) {\n            $siblings.addClass(\"open\");\n          } else {\n            $siblings.removeClass(\"open\");\n          }\n        }\n      });\n\n      // Store the inputs so we can access them later\n      FormView.$fields.cause = $div.find(\"input[name='cause']\");\n      FormView.$fields.time = $div.find(\"input[name='time']\");\n      FormView.$fields[\"action-type\"] = $div.find(\"input[name='action-type']\");\n\n      // Hook up to the DOM\n      FormView.$searchButton = $div.find(\".campaign-search\");\n\n      // Loop through each field selector\n      // @TODO This is tightly coupled.\n      _.each(FormView.$fields, function(fieldGroup) {\n        // For each field selector, we need to add a Facet query so we can get counts to\n        // disable the checkbox.\n        fieldGroup.each(function(idx, element) {\n          /**\n           * The Solr field name that we're going to query against\n           * @type {String}\n           */\n          var field = SolrAdapter.fieldMap[$(element).prop(\"name\")];\n\n          /**\n           * The value of the field that we're passing in to the query\n           * @type {String}\n           */\n          var val = $(element).val();\n\n          // Add the facet query\n          SolrAdapter.defaultQuery.push(\"facet.query=\" + field + \":\" + val);\n        });\n      });\n\n      // Now attach events:\n      _.each(FormView.$fields, function(fieldGroup) {\n        // Attach ourselves to the \"change\" event on the input fields\n        fieldGroup.change(function () {\n          // check this guy\n          $(this).parents(\"li\").toggleClass(\"checked\", $(this).is(\":checked\"));\n\n          // Save the last checkbox that we checked so we don\"t disable any of\n          // those fields if we\"re trying to select multiple\n          FormView.lastChanged = $(this).attr(\"name\");\n\n          // If we're not on mobile...\n          queryCallback();\n        });\n      });\n\n      // Search button appears on mobile in lieu of live filtering\n      FormView.$searchButton.click(function () {\n        queryCallback();\n        $(\"html,body\").animate({\n          scrollTop: ResultsView.$div.offset().scrollTop\n        }, 1000);\n      });\n    },\n\n    /**\n     * Have we run the init method?\n     */\n    checkInit: function () {\n      if (FormView.$div === null) {\n        // Nope. I'm gonna vomit...\n        throw Drupal.t(\"Error: FormView is not initialized.\");\n      }\n\n      // Yup.\n    },\n\n\n    /**\n     * Shows an error message for network issues\n     **/\n    showErrorMessage: function() {\n      var message = _.template(errorTplSrc);\n\n      if ($(\".error\").length < 1) {\n        FormView.$div.parents(\".finder--form\").after(message);\n      }\n\n    },\n\n\n    /**\n     * Returns Boolean if any fields are checked\n     **/\n    hasCheckedFields: function() {\n      var hasChecked = false;\n\n      // Loop through each of the field groups\n      _.each(FormView.$fields, function(fieldGroup) {\n        if (fieldGroup.filter(\":checked\").length > 0) {\n          hasChecked = true;\n        }\n      });\n\n      return hasChecked;\n    },\n\n    /**\n     * Returns an object with arrays of checked fields grouped by fieldGroup.\n     **/\n    getCheckedFields: function() {\n      var checkedFields = [];\n\n      // Loop through each of the field groups\n      _.each(FormView.$fields, function(fieldGroup, groupName) {\n        var checked = fieldGroup.filter(\":checked\");\n        checkedFields[groupName] = [];\n\n        // Only add this to the query if there are fields checked in this field group\n        if (checked.length > 0) {\n          // For each checked box, add it to the search query\n          checked.each(function (index, e) {\n            checkedFields[groupName].push($(e).val());\n          });\n        }\n      });\n\n      return checkedFields;\n    },\n\n\n    /**\n     * Disable fields that have no results available for the given selection\n     *\n     * @param  {Object} results The Solr facet_queries result\n     */\n    disableFields: function(results) {\n      // Make sure we've initialized ourself\n      FormView.checkInit();\n\n      // @TODO: This is super inefficient. We should be storing state in memory\n      // rather than in the DOM, and then rendering the form based on that state.\n\n      // for each of the facet queries\n      _.each(results, function(query, key) {\n        // Solr returns results in the format field_label:count instead of a nice\n        // associative array. :( Let\"s parse that out.\n        var keyArr = key.split(\":\");\n        var field = keyArr[0],\n            value = keyArr[1];\n\n        // If we've checked something in this group, disable 'em all. Otherwise, use facets\n        // to disable impossible choices.\n        var $checkboxes = $(\"input[name='\" + SolrAdapter.fieldMapInverse[field] + \"']\");\n\n        if( !_.isEmpty($checkboxes.filter(\":checked\")) ) {\n          $checkboxes.filter(\":not(:checked)\").prop(\"disabled\", true);\n          $checkboxes.filter(\":not(:checked)\").parents(\"li\").addClass(\"disabled\");\n        } else {\n          // Should we disable this field? Whelp, if there are no results, the answer is yes!\n          var disabled = results[key] === 0;\n          var $checkbox = $checkboxes.filter(\"[value='\" + value + \"']\");\n\n          // Set the disabled attribute if we need to (note: disabled is a variable!)\n          $checkbox.prop(\"disabled\", disabled);\n\n          if (disabled) {\n            // Let\"s uncheck it if we can't select it. It would be confusing otherwise.\n            $checkbox.prop(\"checked\", !disabled);\n\n            // And add a class so we can make it look purdy.\n            $checkbox.parents(\"li\").addClass(\"disabled\");\n          } else {\n            // Oh, hey! It's re-enabled! Let\"s make it look purdier than it was.\n            $checkbox.parents(\"li\").removeClass(\"disabled\");\n          }\n        }\n      });\n    },\n\n    /**\n     * Remove the current results and reboot this object.\n     */\n    clear: function() {\n      //FormView.checkInit();\n      _.each(FormView.$fields, function(fieldGroup) {\n        var disabled = fieldGroup.filter(\":disabled\");\n        if (disabled) {\n          fieldGroup.prop(\"disabled\", false)\n            .parents(\"li\").removeClass(\"disabled\");\n        }\n      });\n    }\n  };\n\n  return FormView;\n});\n\n","define('finder/Finder',['require','finder/FormView','finder/ResultsView','finder/SolrAdapter'],function(require) {\n  \"use strict\";\n\n  var FormView = require(\"finder/FormView\");\n  var ResultsView = require(\"finder/ResultsView\");\n  var SolrAdapter = require(\"finder/SolrAdapter\");\n\n  /**\n   * Finder manages the search action\n   *\n   * @type {Object}\n   */\n  var Finder = {\n\n    /**\n     * Initialize the Campaign Finder and, by extension, the Campaign Results handler\n     *\n     * @param  {JQuery} $formContainer       The div that the filters will be shown in\n     * @param  {JQuery} $resultsContainer    The container element that the results will be injected into\n     * @param  {JQuery} $blankSlate          The div that will be shown when no filter is selected\n     */\n    init: function ($formContainer, $resultsContainer, $blankSlate) {\n      // Initialize the ResultsView\n      FormView.init($formContainer, Finder.query);\n      ResultsView.init($resultsContainer, $blankSlate, Finder.query, FormView.clear);\n\n      // Prepare the Solr adapter\n      SolrAdapter.init();\n    },\n\n    /**\n     * Run the query against the Solr server\n     * @param  {int} offset   Offset to start results at (used for pagination).\n     */\n    query: function(offset) {\n      var queryOffset = offset || 0;\n      var checkedFields = FormView.getCheckedFields();\n\n      // Run the Solr query\n      if(!queryOffset) {\n        // If no offset, we display a new set of results\n        SolrAdapter.throttledQuery(checkedFields, queryOffset, Finder.displayResults);\n      } else {\n        // Otherwise, append to existing result set\n        SolrAdapter.throttledQuery(checkedFields, queryOffset, ResultsView.appendResults);\n      }\n\n      // Mark the results pane as loading\n      ResultsView.loading();\n    },\n\n    /**\n     * Displays results after querying Solr.\n     * @param data  Results from SolrAdapter\n     **/\n    displayResults: function(data) {\n      if (data.result) {\n        if(FormView.hasCheckedFields()) {\n          ResultsView.parseResults(data);\n          /* jshint ignore:start */\n          // Using that underscore variable notation for Solr.\n          FormView.disableFields(data.result[\"facet_counts\"][\"facet_queries\"]);\n          /* jshint ignore:end */\n        } else {\n          ResultsView.showBlankSlate();\n          FormView.clear();\n        }\n      } else {\n        FormView.showErrorMessage();\n      }\n    }\n  };\n\n  return Finder;\n});\n\n","/**\n * # Image Carousel\n *\n * Adds simple \"previous/next\" functionality to slide deck-style image\n * galleries with the following markup:\n *\n * @example\n * //  <div class=\"js-carousel gallery\">\n * //    <div id=\"prev\" class=\"prev-wrapper\">\n * //      <div class=\"prev-button\"><span class=\"arrow\">&#xe605;</span></div>\n * //    </div>\n * //\n * //    <div class=\"carousel-wrapper\">\n * //      <figure id=\"slide0\" class=\"slide\"><img src=\"./img/example_img0.jpg\" /></figure>\n * //      <figure id=\"slide1\" class=\"slide\"><img src=\"./img/example_img1.jpg\" /></figure>\n * //      <figure id=\"slide2\" class=\"slide\"><img src=\"./img/example_img2.jpg\" /></figure>\n * //      <figure id=\"slide3\" class=\"slide\"><img src=\"./img/example_img3.jpg\" /></figure>\n * //    </div>\n * //\n * //    <div id=\"next\" class=\"next-wrapper\">\n * //      <div class=\"next-button\"><span class=\"arrow\">&#xe60a;</span></div>\n * //    </div>\n * //  </div>\n *\n */\n\ndefine('neue/carousel',[],function() {\n  \"use strict\";\n\n  var $ = window.jQuery;\n\n  $(function() {\n    // Show first image\n    $(\"#slide0\").addClass(\"visible\");\n\n    // Make carousel stateful\n    var counter = 0,\n        totalCount = $(\".slide\").length - 1;\n\n    // Cache carousel buttons\n    var $buttons = $(\"#prev, #next\");\n\n    // Decrement counter\n    function decrementCounter() {\n      // If first slide is shown, restart loop\n      // Else, show previous slide\n      counter === 0 ? counter = totalCount : counter--;\n    }\n\n    // Increment counter\n    function incrementCounter() {\n      // If last slide is shown, restart loop\n      // Else, show next slide\n      counter === totalCount ? counter = 0 : counter++;\n    }\n\n    // Toggle slide visibility\n    function showCurrentSlide( direction ) {\n      // Remove \"visibile\" class from the current slide\n      $(\"#slide\" + counter).removeClass(\"visible\");\n\n      // Increment or decrement slide position based on user\"s request\n      direction === \"prev\" ? decrementCounter() : incrementCounter();\n\n      // Assign \"visible\" class to the requested slide\n      $(\"#slide\" + counter).addClass(\"visible\");\n    }\n\n    // Bind click event to carousel buttons\n    $buttons.click(function() {\n      showCurrentSlide( $(this).attr(\"id\") );\n    });\n  });\n});\n\n","/**\n * @module neue/events\n * Pub/Sub events: Allows modules to communicate via publishing\n * and subscribing to events.\n *\n * Based on Addy Osmani's Pubsubz, licensed under the GPL.\n * https://github.com/addyosmani/pubsubz\n * http://jsfiddle.net/LxPrq/\n */\n\ndefine('neue/events',[],function() {\n  \"use strict\";\n\n  var topics = {};\n  var subUid = -1;\n\n  var publish = function(topic, args) {\n    if (!topics[topic]) {\n      return false;\n    }\n\n    setTimeout(function() {\n      var subscribers = topics[topic],\n      len = subscribers ? subscribers.length : 0;\n\n      while(len--) {\n        subscribers[len].func(topic, args);\n      }\n    }, 0);\n\n    return true;\n  };\n\n  var subscribe = function(topic, func) {\n    if (!topics[topic]) {\n      topics[topic] = [];\n    }\n\n    var token = (++subUid).toString();\n    topics[topic].push({\n      token: token,\n      func: func\n    });\n\n    return token;\n  };\n\n  var unsubscribe = function(token) {\n    for (var m in topics) {\n      if (topics[m]) {\n        for (var i = 0, j = topics[m].length; i < j; i++) {\n          if (topics[m][i].token === token) {\n            topics[m].splice(i, 1);\n            return token;\n          }\n        }\n      }\n    }\n\n    return false;\n  };\n\n  // Export public API\n  return {\n    publish: publish,\n    subscribe: subscribe,\n    unsubscribe: unsubscribe\n  };\n});\n\n","/**\n * Applies a smooth-scroll animation on links with the `.js-jump-scroll` class.\n */\n\ndefine('neue/jump-scroll',[],function() {\n  \"use strict\";\n\n  var $ = window.jQuery;\n\n  $(function() {\n    $(\".js-jump-scroll\").on(\"click\", function(event) {\n      event.preventDefault();\n\n      var href = $(this).attr(\"href\");\n\n      // Animate scroll position to the target of the link:\n      $(\"html,body\").animate({scrollTop: $(event.target.hash).offset().top}, \"slow\", function() {\n        // Finally, set the correct hash in the address bar.\n        window.location.hash = href;\n      });\n    });\n  });\n});\n\n","/**\n * Initializes site-wide menu chrome functionality.\n */\n\ndefine('neue/menu',[],function() {\n  \"use strict\";\n\n  var $ = window.jQuery;\n\n  $(function() {\n    // Toggle dropdown menu navigation on mobile:\n    $(\".js-toggle-mobile-menu\").on(\"click\", function() {\n      $(\".chrome--nav\").toggleClass(\"is-visible\");\n    });\n\n    // Hide footer on mobile until clicked\n    $(\".js-footer-col\").addClass(\"is-collapsed\");\n    $(\".js-footer-col h4\").on(\"click\", function() {\n      if( window.matchMedia(\"screen and (max-width: 768px)\").matches ) {\n        $(this).closest(\".js-footer-col\").toggleClass(\"is-collapsed\");\n      }\n    });\n  });\n});\n\n","/**\n * @module neue/messages\n * System Messages. Will create a close (\"X\") button\n * for users with JavaScript enabled that uses the following\n * syntax to hook into this function:\n *\n * @example\n * //  <div class=\"js-message\">Alert! You win.</div>\n *\n * @returns\n * // <div class=\"js-message\">Alert! You win.\n * //   <a href=\"#\" class=\"js-close-message\">x</a>\n * // </div>\n */\n\ndefine('neue/messages',[],function() {\n  \"use strict\";\n\n  var $ = window.jQuery;\n\n  var messageClose = \"<a href=\\\"#\\\" class=\\\"js-close-message message-close-button white\\\">×</a>\";\n\n  /**\n  * Adds a close button to system message banner, with optional callback.\n  *\n  * @param {jQuery}   $messages  Object containing message divs to be modified.\n  * @param {function} callback   Callback fired after message is closed.\n  */\n  var attachCloseButton = function($messages, callback) {\n    // Create message close button\n    $messages.append(messageClose);\n\n    // Close message when \"x\" is clicked:\n    $messages.on(\"click\", \".js-close-message\", function(event) {\n      event.preventDefault();\n      $(this).parent(\".messages\").slideUp();\n\n      if(callback && typeof callback === \"function\") {\n        callback();\n      }\n    });\n  };\n\n  // Prepare any messages in the DOM on load\n  $(function() {\n    attachCloseButton( $(\".messages\") );\n  });\n\n  return {\n    attachCloseButton: attachCloseButton\n  };\n});\n\n","/**\n * @module neue/modal\n * Show/hide modals. To link to a modal, add a `data-modal-href` attribute\n * pointing to the selector for the modal you want to show.\n *\n * @example\n * // <a href=\"http://www.example.com\" data-modal-href=\"#modal--example\">Click!</a>\n * // <div data-modal id=\"modal--example\" role=\"dialog\">\n * //   <!-- content -->\n * // </div>\n *\n */\n\ndefine('neue/modal',['require','./events'],function(require) {\n  \"use strict\";\n\n  var $ = window.jQuery;\n  var Modernizr = window.Modernizr;\n  var Events = require(\"./events\");\n\n  // Cache commonly used jQuery objects\n  var $document = $(document);\n  var $chrome = $(\".chrome\");\n  var $modalContainer = null;\n\n  // UI elements:\n  var $skipLink = $(\"<a href='#' class='js-close-modal js-modal-generated modal-close-button -alt'>skip</a>\");\n  var $closeLink = $(\"<a href='#' class='js-close-modal js-modal-generated modal-close-button'>&#215;</a>\");\n\n  // The currently open modal\n  var $modal = null;\n\n  // Whether this modal can be closed by the user\n  var closeable = false;\n\n  // Return a boolean if modal is open or not\n  var isOpen = function() {\n    return ($modal !== null);\n  };\n\n  // Programmatically add close button to modal.\n  var _addCloseButton = function($el, type, skipForm) {\n    switch(type) {\n      case \"skip\":\n        // Add a skip button, which delegates to the submitting the form with the given ID\n        $el.prepend( $skipLink );\n        $skipLink.on(\"click\", function(event) {\n          event.preventDefault();\n          $(skipForm).submit();\n        });\n        closeable = false;\n        break;\n\n      case \"false\":\n      case \"0\":\n        closeable = false;\n        break;\n\n      default:\n        $el.prepend($closeLink);\n        closeable = true;\n    }\n  };\n\n  /**\n   * Open a new modal\n   * @param {jQuery}  $el                 Element that will be placed inside the modal.\n   * @param {boolean} [options.animated=true]     Use animation for opening the modal.\n   * @param {boolean} [options.closeButton]       Override `data-modal-close` attribute.\n   * @param {boolean} [options.skipForm]          Override `data-modal-skip-form` attribute.\n   */\n  var open = function($el, options) {\n    options = options || {};\n    options.animated = typeof options.animated === \"boolean\" ? options.animated : true;\n    options.closeButton = typeof options.closeButton !== \"undefined\" ? options.closeButton : $el.attr(\"data-modal-close\");\n    options.skipForm = typeof options.skipForm !== \"undefined\" ? options.skipForm : $el.attr(\"data-modal-skip-form\");\n\n    // Read from DOM\n    var offsetTop = \"-\" + $document.scrollTop() + \"px\";\n\n    // Add generated content\n    _addCloseButton($el, options.closeButton, options.skipForm);\n\n    if(!isOpen()) {\n      // Set up overlay and show modal\n      $chrome.css(\"top\", offsetTop);\n      $chrome.addClass(\"modal-open\");\n      $modalContainer.css(\"display\", \"block\");\n      if(options.animated && Modernizr.cssanimations) {\n        $modalContainer.addClass(\"animated-open\");\n      }\n      $el.css(\"display\", \"block\");\n    } else {\n      // Modal is already open, so just replace current content\n      $modal.hide();\n      $el.show();\n    }\n\n    // Make sure we're scrolled to the top of the modal.\n    setTimeout(function() {\n      $document.scrollTop(0);\n    }, 50);\n\n    // We provide an event that other modules can hook into to perform custom functionality when\n    // a modal opens (such as preparing things that are added to the DOM, etc.)\n    Events.publish(\"Modal:Open\", $el);\n\n    // Keep track of whether modal is open or not\n    $modal = $el;\n  };\n\n  // Cleanup after modal animates out\n  var _cleanup = function(scrollOffset) {\n    $modalContainer.css(\"display\", \"none\");\n    $modalContainer.removeClass(\"animated-close\");\n    $modal.css(\"display\", \"none\");\n\n    // Remove any generated content\n    $modal.find(\".js-modal-generated\").remove();\n\n    // Remove overlay and reset scroll position\n    $chrome.removeClass(\"modal-open\");\n    $chrome.css(\"top\", \"\");\n    $document.scrollTop(scrollOffset);\n\n    // Get rid of reference to closed modal\n    $modal = null;\n  };\n\n  /**\n   * Close the active modal.\n   * @param {boolean} [options.animated=true] Use animation for closing the modal.\n   */\n  var close = function(options) {\n    options = options || {};\n    options.animated = typeof options.animated !== \"undefined\" ? options.animated : true;\n\n    var scrollOffset = parseInt($chrome.css(\"top\")) * -1;\n\n    if(options.animated && Modernizr.cssanimations) {\n      $modalContainer.addClass(\"animated-close\");\n      $modalContainer.one(\"webkitAnimationEnd oanimationend msAnimationEnd animationend\", function() {\n        _cleanup(scrollOffset);\n      });\n    } else {\n      _cleanup(scrollOffset);\n    }\n\n    // Remove URL hash for modal from browser\n    if(window.location.hash === \"#\" + $modal.attr(\"id\")) {\n      window.location.hash = \"/\";\n    }\n\n    // We provide an event that other modules can hook into to perform custom functionality when\n    // a modal opens (such as preparing things that are added to the DOM, etc.)\n    Events.publish(\"Modal:Close\", $modal);\n  };\n\n  // Click handler for opening a new modal\n  var _openHandler = function(event) {\n    event.preventDefault();\n    var href = $(this).data(\"modal-href\");\n\n    open($(href));\n  };\n\n  // Click handler for closing a modal\n  var _closeHandler = function(event) {\n    // Don't let the event bubble.\n    if(event.target !== this) {\n      return;\n    }\n\n    // Only close on clicking overlay if this modal has a \"x\" close button\n    if( $(this).hasClass(\"js-close-modal\") || closeable ) {\n      // Override default link behavior.\n      event.preventDefault();\n      close();\n    }\n  };\n\n  $document.ready(function() {\n    var $body = $(\"body\");\n\n    // Create container for modals\n    $modalContainer = $(\"<div class='modal-container'></div>\");\n    $body.append($modalContainer);\n\n    // Prepare the DOM!\n    $(\"[data-modal]\").each(function() {\n      $(this).appendTo($modalContainer);\n      $(this).attr(\"hidden\", true);\n    });\n\n    //If there's a hash in the URL, check if it's a modal and load it\n    var hash = window.location.hash;\n    if(hash && hash !== \"#/\" && $(hash) && typeof $(hash).data(\"modal\") !== \"undefined\") {\n      open($(hash));\n    }\n\n    // Bind events to open & close modal\n    $body.on(\"click\", \"[data-modal-href]\", _openHandler);\n    $body.on(\"click\", \".modal-container\", _closeHandler);\n    $body.on(\"click\", \".js-close-modal\", _closeHandler);\n  });\n\n\n  // Return public API for controlling modals\n  return {\n    isOpen: isOpen,\n    open: open,\n    close: close\n  };\n});\n\n","/**\n * Indicates current section in nav on scroll. Applies an `.is-active`\n * class when the specified `href` reaches the top of the viewport.\n *\n * Triggered by a `.js-scroll-indicator` on a link.\n */\n\ndefine('neue/scroll-indicator',[],function() {\n  \"use strict\";\n\n  var $ = window.jQuery;\n\n  var links = [];\n\n  // Prepare all `.js-scroll-indicator` links on the page.\n  function preparePage() {\n    links = [];\n\n    $(\".js-scroll-indicator\").each(function(index, link) {\n      prepareIndicator( $(link) );\n    });\n  }\n\n  // Registers links and their targets with scroll handler\n  function prepareIndicator($link) {\n    // Calculate the element's offset from the top of the page while anchored\n    var $linkTarget = $( $link.attr(\"href\") );\n    if( $linkTarget.length ) {\n      var linkTargetOffset = $linkTarget.offset().top;\n\n      // Create the data structure that we'll store this stuff in\n      var linkObj = {\n        $el: $link,\n        targetOffset: linkTargetOffset\n      };\n\n      // Add jQuery object and offset value to links array\n      links.push(linkObj);\n    }\n\n    // Now that we're ready, let's calculate how stickies should be displayed\n    updateScrollIndicators();\n  }\n\n  // Scroll handler: highlights the furthest link the user has passed\n  function updateScrollIndicators() {\n    $.each(links, function(index, link) {\n      // In reverse order (moving up the nav from the bottom), check whether\n      // we've scrolled past the link's target. If so, set active and stop.\n      var windowOffset = $(window).scrollTop() + link.$el.height();\n      if (windowOffset > link.targetOffset) {\n        $(\".js-scroll-indicator\").removeClass(\"is-active\");\n        link.$el.addClass(\"is-active\");\n        return;\n      }\n    });\n  }\n\n  // Attach our functions to their respective events.\n  $(function() {\n    preparePage();\n\n    $(window).on(\"scroll\", updateScrollIndicators);\n    $(window).on(\"resize\", preparePage);\n  });\n\n});\n\n","/**\n * Pins an element to the top of the screen on scroll.\n *\n * Requires pinned element to have `.js-sticky` class, and have\n * a `.is-stuck` modifier class in its CSS (which allows\n * customized sticky behavior based on media queries).\n *\n * @example\n * // .sidebar {\n * //   &.is-stuck {\n * //     position: fixed;\n * //     top: 0;\n * //   }\n * // }\n *\n */\n\ndefine('neue/sticky',[],function() {\n  \"use strict\";\n\n  var $ = window.jQuery;\n\n  var divs = [];\n\n  // Prepare all `.js-sticky` divs on the page.\n  function preparePage() {\n    divs = [];\n\n    $(\".js-sticky\").each(function(index, div) {\n      prepareSticky(div);\n    });\n  }\n\n  // Prepare markup and register divs with scroll handler\n  function prepareSticky(div) {\n    // Calculate the element's offset from the top of the page while anchored\n    var divOffset = $(div).offset().top;\n\n    // Create the data structure that we'll store this stuff in\n    var divObj = {\n      $el: $(div),\n      offset: divOffset\n    };\n\n    // Add jQuery object and offset value to divs array\n    divs.push(divObj);\n\n    // Now that we're ready, let's calculate how stickies should be displayed\n    scrollSticky();\n  }\n\n  // Scroll handler: pins/unpins divs on scroll event\n  function scrollSticky() {\n    $.each(divs, function(index, div) {\n      // Compare the distance to the top of the page with the distance scrolled.\n      // For each div: if we've scrolled past it's offset, pin it to top.\n      if ($(window).scrollTop() > div.offset) {\n        div.$el.addClass(\"is-stuck\");\n      } else {\n        div.$el.removeClass(\"is-stuck\");\n      }\n    });\n  }\n\n  // Attach our functions to their respective events.\n  $(function() {\n    preparePage();\n\n    $(window).on(\"scroll\", scrollSticky);\n    $(window).on(\"resize\", preparePage);\n  });\n});\n\n","/**\n * Client-side form validation logic. Form element is validated based\n * on `data-validate` attribute, and validation output is placed in\n * corresponding `<label>`.\n *\n * Validations can be added later by extending `NEUE.Validation.Validations`.\n * Validators can be added later by extending `NEUE.Validation.Validators`.\n *\n * finished validating with a boolean `success` and a plain-text `message`\n * value. (Alternatively, a `suggestion` value can be passed which will\n * prompt the user \"Did you mean {suggestion}?\".\n *\n * ## Usage Notes:\n * - Input field must have `data-validate` attribute.\n * - If adding input fields to the DOM after load, run `prepareFields`\n */\n\ndefine('neue/validation',['require','./events'],function(require) {\n  \"use strict\";\n\n  var $ = window.jQuery;\n  var Events = require(\"./events\");\n\n  var validations = [];\n\n  /**\n   * Prepares form label DOM to display validation messages & register event handler\n   * @param {jQuery} $fields Fields to register validation handlers to.\n   */\n  var prepareFields = function($fields) {\n    $fields.each(function() {\n      var $field = $(this);\n\n      prepareLabel( $(\"label[for='\" + $field.attr(\"id\") + \"']\") );\n\n      $field.on(\"blur\", function(event) {\n        event.preventDefault();\n        validateField( $field );\n      });\n    });\n  };\n\n  /**\n   * Prepare field label DOM to display validation messages.\n   * @param {jQuery} $label Label element to prepare.\n   */\n  var prepareLabel = function($label) {\n    // Check to make sure we haven't already prepared this before\n    if($label.find(\".inner-label\").length === 0) {\n      var $innerLabel = $(\"<div class='inner-label'></div>\");\n      $innerLabel.append(\"<div class='label'>\" + $label.html() + \"</div>\");\n      $innerLabel.append(\"<div class='message'></div>\");\n\n      $label.html($innerLabel);\n    }\n  };\n\n  /**\n   * Trigger a validation on a form element.\n   * @param {jQuery}   $field                            Form element to be validated.\n   * @param {jQuery}   [force = false]                   Force validation (even on empty fields).\n   * @param {function} [callback=showValidationMessage]  Callback function that receives validation result\n   */\n  var validateField = function($field, force, callback) {\n    // Default arguments\n    force = typeof force !== \"undefined\" ? force : false;\n    callback = typeof callback !== \"undefined\" ? callback : function($field, result) {\n      showValidationMessage($field, result);\n    };\n\n    var validation = $field.data(\"validate\");\n\n    // Trigger any other linked validation\n    var validationTrigger = $field.data(\"validate-trigger\");\n    if(validationTrigger) {\n      validateField( $(validationTrigger) );\n    }\n\n\n    // Don't validate if validation doesn't exist\n    if(!validations[validation]) {\n      console.error(\"A validation with the name \"+ validation + \" has not been registered.\");\n      return;\n    }\n\n    // For <input>, <select>, and <textarea> tags we provide\n    // the field's value as a string\n    if( isFormField($field) ) {\n      // Get field info\n      var fieldValue = $field.val();\n\n      // Finally, let's not validate blank fields unless forced to\n      if(force || fieldValue !== \"\") {\n        if(validation === \"match\") {\n          var matchFieldValue = $($field.data(\"validate-match\")).val();\n          validations[validation].fn(fieldValue, matchFieldValue, function(result) {\n            callback($field, result);\n          });\n        } else {\n          validations[validation].fn(fieldValue, function(result) {\n            callback($field, result);\n          });\n        }\n      }\n    } else {\n      // For all other tags, we pass the element directly\n      if(validation === \"match\") {\n        var $matchField = $($field.data(\"validate-match\"));\n        validations[validation].fn($field, $matchField, function(result) {\n          callback($field, result);\n        });\n      } else {\n        validations[validation].fn($field, function(result) {\n          callback($field, result);\n        });\n      }\n    }\n  };\n\n  /**\n   * Register a new validation.\n   *\n   * @param {String}    name              The name function will be referenced by in `data-validate` attribute.\n   * @param {Object}    validation        Collection of validation rules to apply\n   * @param {Function}  [validation.fn]   Custom validation\n   */\n  var registerValidation = function(name, validation) {\n    if(validations[name]) {\n      throw \"A validation function with that name has already been registered\";\n    }\n\n    validations[name] = validation;\n  };\n\n  /**\n   * @DEPRECATED: Will be removed in a future version in favor of `registerValidation`.\n   */\n  var registerValidationFunction = function(name, func) {\n    var v = {\n      fn: func\n    };\n\n    registerValidation(name, v);\n  };\n\n  /**\n   * Show validation message in markup.\n   *\n   * @param {jQuery} $field              Field to display validation message for.\n   * @param {Object} result              Object containing `success` and either `message` or `suggestion`\n   */\n  var showValidationMessage = function($field, result) {\n    var $fieldLabel = $(\"label[for='\" + $field.attr(\"id\") + \"']\");\n    var $fieldMessage = $fieldLabel.find(\".message\");\n\n    $field.removeClass(\"success error warning shake\");\n    $fieldMessage.removeClass(\"success error warning\");\n\n    // Highlight/animate field\n    if(result.success === true) {\n      $field.addClass(\"success\");\n      $fieldMessage.addClass(\"success\");\n    } else {\n      $field.addClass(\"error\");\n      $fieldMessage.addClass(\"error\");\n\n      if( isFormField($field) ) {\n        $field.addClass(\"shake\");\n      }\n\n      Events.publish(\"Validation:InlineError\", $fieldLabel.attr(\"for\"));\n    }\n\n    // Show validation message\n    if(result.message) {\n      $fieldMessage.text(result.message);\n    }\n\n    if(result.suggestion) {\n      $fieldMessage.html(\"Did you mean \" + result.suggestion.full + \"? <a href='#' data-suggestion='\" + result.suggestion.full + \"'class='js-mailcheck-fix'>Fix it!</a>\");\n      Events.publish(\"Validation:Suggestion\", result.suggestion.domain);\n    }\n\n    $fieldLabel.addClass(\"show-message\");\n\n    $(\".js-mailcheck-fix\").on(\"click\", function(e) {\n      e.preventDefault();\n\n      var $field = $(\"#\" + $(this).closest(\"label\").attr(\"for\"));\n      $field.val($(this).data(\"suggestion\"));\n      $field.trigger(\"blur\");\n\n      // If Google Analytics is set up, we fire an event to\n      // mark that a suggestion has been made\n      Events.publish(\"Validation:SuggestionUsed\", $(this).text() );\n    });\n\n    $field.on(\"focus\", function() {\n      $field.removeClass(\"warning error success shake\");\n      $fieldLabel.removeClass(\"show-message\");\n    });\n\n    return result.success;\n  };\n\n\n  /**\n   * Disable form submission.\n   * @param {jQuery} $form Form to disable submission for.\n   */\n  var disableFormSubmit = function($form) {\n    // Prevent double-submissions\n    var $submitButton = $form.find(\":submit\");\n\n    // Disable that guy\n    $submitButton.attr(\"disabled\", true);\n\n    // If <button>, add a loading style\n    if($submitButton.prop(\"tagName\") === \"BUTTON\") {\n      // Neue's `.loading` class only works on <a> or <button> :(\n      $submitButton.addClass(\"loading\");\n    }\n  };\n\n\n  /**\n   * Re-enable form submission.\n   * @param {jQuery} $form Form to enable submission for.\n   */\n  var enableFormSubmit = function($form) {\n    var $submitButton = $form.find(\":submit\");\n    $submitButton.attr(\"disabled\", false);\n    $submitButton.removeClass(\"loading disabled\");\n  };\n\n  /**\n   * Returns whether element is <input>, <select>, or <textarea>.\n   * @param {jQuery} $el  Element to check type of.\n   * @return {boolean}\n   */\n  var isFormField = function($el) {\n    var tag = $el.prop(\"tagName\");\n    return ( tag === \"INPUT\" || tag === \"SELECT\" || tag === \"TEXTAREA\" );\n  };\n\n  /**\n   * Validate form on submit.\n   */\n  $(\"body\").on(\"submit\", \"form\", function(event, isValidated) {\n    var $form = $(this);\n    var $validationFields = $form.find(\"[data-validate]\").filter(\"[data-validate-required]\");\n\n    disableFormSubmit($form);\n\n    if($validationFields.length === 0) {\n      return true;\n    }\n\n    if(isValidated === true) {\n      // completed a previous runthrough & validated;\n      // we're ready to submit the form\n      return true;\n    } else {\n      event.preventDefault();\n\n      var validatedFields = 0;\n      var validatedResults = 0;\n\n      $validationFields.each(function() {\n        validateField($(this), true, function($field, result) {\n          validatedFields++;\n          showValidationMessage($field, result);\n\n          if(result.success) {\n            validatedResults++;\n          }\n\n          // Once we're done validating all fields, check status of form\n          if(validatedFields === $validationFields.length) {\n            if(validatedResults === $validationFields.length) {\n              // we've validated all that can be validated\n              Events.publish(\"Validation:Submitted\", $(this).attr(\"id\") );\n              $form.trigger(\"submit\", true);\n            } else {\n              Events.publish(\"Validation:SubmitError\", $(this).attr(\"id\") );\n              enableFormSubmit($form);\n            }\n          }\n        });\n      });\n\n      return false; // don't submit form, wait for callback with `true` parameter\n    }\n  });\n\n  // Register the \"match\" validation.\n  registerValidationFunction(\"match\", function(string, secondString, done) {\n    if(string === secondString && string !== \"\") {\n      return done({\n        success: true,\n        message: \"Looks good!\"\n      });\n    } else {\n      return done({\n        success: false,\n        message: \"That doesn't match.\"\n      });\n    }\n  });\n\n  $(function() {\n    // Prepare the labels on any `[data-validate]` fields in the DOM at load\n    prepareFields( $(\"body\").find(\"[data-validate]\") );\n  });\n\n  return {\n    prepareFields: prepareFields,\n    registerValidation: registerValidation,\n    registerValidationFunction: registerValidationFunction,\n    validateField: validateField,\n    showValidationMessage: showValidationMessage,\n    Validations: validations\n  };\n});\n\n","/**\n * Main build script. This will compile modules into `neue.js`\n * and `neue.min.js` in dist package, and attach each module to\n * a NEUE global variable attached to the window.\n */\n\ndefine('neue/main',['require','./carousel','./events','./jump-scroll','./menu','./messages','./modal','./scroll-indicator','./sticky','./validation'],function(require) {\n  \"use strict\";\n\n  // Attach modules to window\n  window.NEUE = {\n    Carousel: require(\"./carousel\"),\n    Events: require(\"./events\"),\n    JumpScroll: require(\"./jump-scroll\"),\n    Menu: require(\"./menu\"),\n    Messages: require(\"./messages\"),\n    Modal: require(\"./modal\"),\n    ScrollIndicator: require(\"./scroll-indicator\"),\n    Sticky: require(\"./sticky\"),\n    Validation: require(\"./validation\")\n  };\n\n  return window.NEUE;\n});\n\n","define('campaign/sources',['require','jquery','neue/events'],function(require) {\n  \"use strict\";\n\n  var $ = require(\"jquery\");\n  var Events = require(\"neue/events\");\n\n\n  var toggleSources = function(container) {\n    var $list = container.find(\"ul, div:first\");\n\n    // Hide the fact sources list if present.\n    $list.hide();\n\n    // Toggle visibility of fact sources.\n    $(\".js-toggle-sources\").on(\"click\", function() {\n\n      // Toggle visibility of fact sources list.\n      $list.slideToggle();\n\n    });\n  };\n\n\n  var $sources = $(\".sources\") || null;\n\n  // If there's a list of sources output in a modal, activate the toggle.\n  Events.subscribe(\"Modal:opened\", function() {\n    var $sources = $(\".modal .sources\") || null;\n    toggleSources($sources);\n  });\n\n\n  // If there's a list of sources output on the page, activate the toggle.\n  if ($sources) {\n    toggleSources($sources);\n  }\n\n});\n\n","define('campaign/tips',['require','jquery'],function(require) {\n  \"use strict\";\n\n  var $ = require(\"jquery\");\n\n  // View other tips on click\n  $(\".js-show-tip\").on(\"click\", function(event) {\n    event.preventDefault();\n\n    // Cache $(this) and reference to parent wrapper\n    var $this = $(this);\n    var $thisParent = $this.closest(\".tips--wrapper\");\n\n    // Pass \"active\" class to move tip indicator\n    $thisParent.find(\".tip-header\").removeClass(\"active\");\n    $this.addClass(\"active\");\n\n    // Get current tip number\n    var tipNumber = $this.attr(\"href\").slice(1);\n\n    // Show current tip\n    $thisParent.find(\".tip-body\").hide();\n    $thisParent.find(\".\" + tipNumber).show();\n  });\n});\n\n","define('campaign/tabs',['require','jquery'],function(require) {\n  \"use strict\";\n\n  var $ = require(\"jquery\");\n\n  var $tabs = $(\".js-tabs\"),\n      $tabMenuLinks = $tabs.find(\".tabs__menu a\");\n\n  // Show the first tab in any \"js-tabs\" collection.\n  $tabs.each(function() {\n    $(this).find(\".tab\").first().addClass(\"is-active\");\n  });\n\n  // View other tabs on click.\n  $tabMenuLinks.on(\"click\", function(event) {\n    event.preventDefault();\n\n    var $this = $(this),\n        $siblings = $this.parent().siblings(),\n        selection = $this.data(\"tab\") - 1,\n        $tabs = $this.closest(\".js-tabs\").find(\".tab\"),\n        tab = $tabs.get(selection);\n\n    $siblings.removeClass(\"is-active\");\n    $this.parent().addClass(\"is-active\");\n\n    // Show selected tab.\n    $tabs.removeClass(\"is-active\");\n    $(tab).addClass(\"is-active\");\n\n  });\n\n});\n\n","define('campaign/shirts',['require','jquery'],function(require) {\n  \"use strict\";\n\n  var $ = require(\"jquery\");\n\n  /**\n    * Creates an instance of MediaRadioSelector.\n    *\n    * @constructor\n    * @this {MediaRadioSelector}\n    * @param {jQuery} $container The container element for the input field and media element\n    * @param {object} opts Options.\n  */\n  var MediaRadioSelector = function ($fieldGroup, opts) {\n    if ($fieldGroup === undefined || !$($fieldGroup.length)) { return; }\n    if (!this instanceof MediaRadioSelector) { return new MediaRadioSelector($fieldGroup, opts); }\n    var _this = this;\n    opts = opts || {};\n    _this.cfg = opts = {\n      fieldClassName: (typeof opts.fieldClassName === \"string\") ? opts.fieldClassName : \"-media-options\",\n      fieldSelector: (typeof opts.fieldSelector === \"string\") ? opts.fieldSelector : \".form-type-radio\",\n      optionSelector: (typeof opts.optionSelector === \"string\") ? opts.optionSelector : \".option\"\n    };\n    _this.$fieldGroup = $($fieldGroup).addClass(_this.cfg.fieldClassName);\n    _this.$checked = [];\n    _this.init();\n  };\n  MediaRadioSelector.prototype = {\n\n    /**\n      * Adds event listeners to each field\n    */\n    init: function () {\n      var _this = this,\n        cfg = _this.cfg;\n\n      _this.$fieldGroup.find(cfg.fieldSelector).each(function (idx) {\n        var $field = $(this),\n          className = (idx + 1) % 2 === 0 ? '-second' : '-first';\n\n        // add 'index' class name for legacy IE\n        $field.addClass(className);\n\n        // if default selected field exists, set to 'selected' state\n        if ($field.find(\"input[type='radio']:checked\").length > 0) {\n          _this.check($field);\n        }\n\n        // add click event to toggle 'selected' class and check/uncheck radios\n        $field.find(cfg.optionSelector).on(\"click\", function () {\n          if (_this.$checked.length > 0) {\n            _this.uncheck(_this.$checked);\n          }\n          _this.check($field);\n        });\n      });\n    },\n\n    /**\n      * Adds checked state to field\n      * @param {jQuery} $field The field.\n    */\n    check: function ($field) {\n      $field.addClass(\"selected\").find(\"input[type='radio']\").attr(\"checked\", true);\n      this.$checked = $field;\n    },\n\n    /**\n      * Removes checked state to field\n      * @param {jQuery} $field The field.\n    */\n    uncheck: function ($field) {\n      $field.removeClass(\"selected\").find(\"input[type='radio']\").attr(\"checked\", false);\n    }\n  };\n\n  $(function() {\n    // Instantiate the media radio selectors\n    $(\".form-radios.js-media-options\").each(function () {\n      new MediaRadioSelector($(this));\n    });\n  });\n\n});\n\n","define('campaign/ImageUploader',['require','jquery'],function(require) {\n  \"use strict\";\n\n  var $ = require(\"jquery\");\n\n  var prepareImageUploadUI = function($context) {\n    // Toggle visibility of upload button and hide that guy\n    var $imageUploads = $context.find(\".js-image-upload\");\n\n    $imageUploads.each(function(i, el) {\n      $(el).wrap( $(\"<div class='image-upload-container'></div>\") );\n      var $container = $(el).parent(\".imageUploadContainer\");\n\n      $container.wrap(\"<div style='clear: both'></div>\");\n\n      var $uploadBtn = $(\"<a href='#' class='btn secondary small'>\" + Drupal.t(\"Upload A Pic\") + \"</a>\");\n      $uploadBtn.insertAfter( $(el) );\n\n      var $imgPreview = $(\"<img class='preview' src=''>\");\n      $imgPreview.insertBefore( $container );\n      $imgPreview.hide();\n\n      var $fileName = $(\"<p class='filename'></p>\");\n      $fileName.insertAfter($uploadBtn);\n\n      // Show image preview on upload\n      $(el).on(\"change\", function(event) {\n        event.preventDefault();\n        $imgPreview.hide();\n\n        // Change button state\n        $uploadBtn.text(Drupal.t(\"Change Pic\"));\n\n        var files = !!this.files ? this.files : [];\n\n        // Show file name below field\n        if( files[0] && files[0].name ) {\n          $fileName.text( files[0].name );\n        } else {\n          var file = $(el).val().replace(\"C:\\\\fakepath\\\\\", \"\");\n          $fileName.text(file);\n        }\n\n        // If no file selected/no FileReader support, we're all done\n        if (!files.length || !window.FileReader) {\n          return;\n        }\n\n        if (/^image/.test( files[0].type)) {\n          var reader = new FileReader();\n          reader.readAsDataURL(files[0]);\n\n          reader.onloadend = function() {\n            $imgPreview.show();\n            $imgPreview.attr(\"src\", this.result);\n          };\n        }\n\n      });\n    });\n  };\n\n  // On DOM ready, we prepare any `.js-image-upload`s that we find on the page\n  $(function() {\n    prepareImageUploadUI( $(\"body\") );\n  });\n\n});\n\n","define('validation/auth',['require','neue/validation','mailcheck'],function(require) {\n  \"use strict\";\n\n  var Validation= require(\"neue/validation\");\n  var mailcheck = require(\"mailcheck\");\n\n  // # Helpers\n  // Basic sanity check used by email validation.\n  // This won't catch everything, but should prevent validating some simple mistakes\n  function isValidEmailSyntax(string) {\n    var email = string.toUpperCase();\n    if( email.match(/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]+$/) ) {\n      var lastChar = \"\";\n      for(var i = 0, len = email.length; i < len; i++) {\n        // fail if we see two dots in a row\n        if(lastChar === \".\"  && email[i] === \".\") {\n          return false;\n        }\n\n        lastChar = email[i];\n      }\n\n      return true;\n    }\n\n    return false;\n  }\n\n  // # Add validation functions...\n\n  // ## Name\n  // Greets the user when they enter their name.\n  Validation.registerValidationFunction(\"name\", function(string, done) {\n    if( string !== \"\" ) {\n      return done({\n        success: true,\n        message: Drupal.t(\"Hey, @name!\", {\"@name\": string})\n      });\n    } else {\n      return done({\n        success: false,\n        message: Drupal.t(\"We need your first name.\")\n      });\n    }\n  });\n\n  // ## Birthday\n  // Validates correct date input, reasonable birthdate, and says a nice message.\n  Validation.registerValidationFunction(\"birthday\", function(string, done) {\n    var birthday, birthMonth, birthDay, birthYear;\n\n    // parse date from string\n    if( /^\\d{1,2}\\/\\d{1,2}\\/\\d{4}$/.test(string) ) {\n      // default, typed by user MM/DD/YYYY\n      birthday = string.split(\"/\");\n      birthMonth = parseInt(birthday[0]);\n      birthDay = parseInt(birthday[1]);\n      birthYear = parseInt(birthday[2]);\n    } else {\n      return done({\n        success: false,\n        message: Drupal.t(\"Enter your birthday MM/DD/YYYY!\")\n      });\n    }\n\n    // fail if incorrect month\n    if (birthMonth > 12 || birthMonth === 0) {\n      return done({\n        success: false,\n        message: Drupal.t(\"That doesn't seem right.\")\n      });\n    }\n\n    //list of last days in months and check for leap year\n    var endDates = [0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\n    if(((birthYear % 4 === 0) && (birthYear % 100 !== 0)) || (birthYear % 400 === 0)){\n      endDates[2] = 29;\n    }\n\n    // fail if incorrect day\n    if (birthDay > endDates[birthMonth]) {\n      return done({\n        success: false,\n        message: Drupal.t(\"That doesn't seem right.\")\n      });\n    }\n\n    // calculate age\n    // Source: http://stackoverflow.com/questions/4060004/calculate-age-in-javascript#answer-7091965\n    var birthDate = new Date(birthYear, birthMonth - 1, birthDay);\n    var now = new Date();\n    var age = now.getFullYear() - birthDate.getFullYear();\n    var m = now.getMonth() - birthDate.getMonth();\n    if (m < 0 || (m === 0 && now.getDate() < birthDate.getDate())) {\n      age--;\n    }\n\n    if (age < 0)  {\n      return done({\n        success: false,\n        message: Drupal.t(\"Are you a time traveller?\")\n      });\n    } else if( age > 0 && age <= 25  ) {\n\n      if (birthDate.getMonth() === now.getMonth() && now.getDate() === birthDate.getDate() ) {\n        return done({\n          success: true,\n          message: Drupal.t(\"Wow, happy birthday!\")\n        });\n      } else if ( age < 10) {\n        return done({\n          success: true,\n          message: Drupal.t(\"Wow, you're @age!\", {\"@age\": age})\n        });\n      } else {\n        return done({\n          success: true,\n          message: Drupal.t(\"Cool, @age!\", {\"@age\": age})\n        });\n      }\n\n    } else if (age > 25 && age < 130) {\n      return done({\n        success: true,\n        message: Drupal.t(\"Got it!\")\n      });\n    } else if (string === \"\") {\n      return done({\n        success: false,\n        message: Drupal.t(\"We need your birthday.\")\n      });\n    } else {\n      return done({\n        success: false,\n        message: Drupal.t(\"That doesn't seem right.\")\n      });\n    }\n  });\n\n  // ## Email\n  // Performs some basic sanity checks on email format (see helper method), and\n  // uses Kicksend's mailcheck library to offer suggestions for misspellings.\n  Validation.registerValidationFunction(\"email\", function(string, done) {\n    if ( isValidEmailSyntax(string) ) {\n      // we use mailcheck.js to find some common email mispellings\n      mailcheck.run({\n        email: string,\n        domains: [\"yahoo.com\", \"google.com\", \"hotmail.com\", \"gmail.com\", \"me.com\", \"aol.com\", \"mac.com\",\n                  \"live.com\", \"comcast.net\", \"googlemail.com\", \"msn.com\", \"hotmail.co.uk\", \"yahoo.co.uk\",\n                  \"facebook.com\", \"verizon.net\", \"sbcglobal.net\", \"att.net\", \"gmx.com\", \"mail.com\", \"outlook.com\",\n                  \"aim.com\", \"ymail.com\", \"rocketmail.com\", \"bellsouth.net\", \"cox.net\", \"charter.net\", \"me.com\",\n                  \"earthlink.net\", \"optonline.net\", \"dosomething.org\"],\n        suggested: function(s) {\n          return done({\n            success: true,\n            suggestion: s\n          });\n        },\n        empty: function() {\n          return done({\n            success: true,\n            message: Drupal.t(\"Great, thanks!\")\n          });\n        }\n      });\n    } else {\n      return done({\n        success: false,\n        message: Drupal.t(\"We need a valid email.\")\n      });\n    }\n  });\n\n  // ## Password\n  // Checks that password is 6 or more characters long.\n  // Matches validation performed in dosomething_user.module.\n  Validation.registerValidationFunction(\"password\", function(string, done) {\n    if(string.length >= 6) {\n      return done({\n        success: true,\n        message: Drupal.t(\"Keep it secret, keep it safe!\")\n      });\n    } else {\n      return done({\n        success: false,\n        message: Drupal.t(\"Must be 6+ characters.\")\n      });\n    }\n  });\n\n  // ## Phone\n  // Matches validation performed in dosomething_user.module.\n  Validation.registerValidationFunction(\"phone\", function(string, done) {\n    // Matches server-side validation from `dosomething_user_valid_cell()` in `dosomething_user.module`.\n    var sanitizedNumber = string.replace(/[^0-9]/g, \"\");\n    var isValidFormat = /^(?:\\+?1([\\-\\s\\.]{1})?)?\\(?([0-9]{3})\\)?(?:[\\-\\s\\.]{1})?([0-9]{3})(?:[\\-\\s\\.]{1})?([0-9]{4})/.test(string);\n    var allRepeatingDigits = /([0-9]{1})\\1{9,}/.test(sanitizedNumber);\n\n    if(isValidFormat && !allRepeatingDigits) {\n      return done({\n        success: true,\n        message: Drupal.t(\"Thanks!\")\n      });\n    } else {\n      return done({\n        success: false,\n        message: Drupal.t(\"Enter a valid telephone number.\")\n      });\n    }\n  });\n});\n\n","define('validation/reportback',['require','neue/validation'],function(require) {\n  \"use strict\";\n\n  var Validation = require(\"neue/validation\");\n\n  // validate number of items\n  Validation.registerValidationFunction(\"positiveInteger\", function(string, done) {\n    var trimmedString = string.replace(\" \", \"\");\n    if( trimmedString !== \"\" && /^[1-9]\\d*$/.test(trimmedString) ) {\n      return done({\n        success: true,\n        message: Drupal.t(\"That's great!\")\n      });\n    } else {\n      return done({\n        success: false,\n        message: Drupal.t(\"Enter a valid number!\")\n      });\n    }\n  });\n\n  // validate that string isn't blank\n  Validation.registerValidationFunction(\"reportbackReason\", function(string, done) {\n    if( string !== \"\" ) {\n      return done({\n        success: true,\n        message: Drupal.t(\"Thanks for caring!\")\n      });\n    } else {\n      return done({\n        success: false,\n        message: Drupal.t(\"Tell us why you cared!\")\n      });\n    }\n  });\n\n});\n\n","define('validation/address',['require','jquery','neue/validation'],function(require) {\n  \"use strict\";\n\n  var $ = require(\"jquery\");\n  var Validation= require(\"neue/validation\");\n\n  /** @NOTE: Temporary, testing out some new ideas. */\n  var requiredValidator = function(string, done, args) {\n    if( string !== \"\" ) {\n      return done({\n        success: true,\n        message: args.success\n      });\n    } else {\n      return done({\n        success: false,\n        message: args.failure\n      });\n    }\n  };\n\n  /**\n   * Validators for individual address form fields:\n   */\n  Validation.registerValidationFunction(\"fname\", function(string, done) {\n    return requiredValidator(string, done, {\n      success: Drupal.t(\"Oh hey, @fname!\", {\"@fname\": string}),\n      failure: Drupal.t(\"We need your name. We’re on a first-name basis, right?\")\n    });\n  });\n\n  Validation.registerValidationFunction(\"lname\", function(string, done) {\n    return requiredValidator(string, done, {\n      success: Drupal.t(\"The @lname-inator! People call you that, right?\", {\"@lname\": string}),\n      failure: Drupal.t(\"We need your last name.\")\n\n    });\n  });\n\n  Validation.registerValidationFunction(\"address1\", function(string, done) {\n    return requiredValidator(string, done, {\n      success: Drupal.t(\"Got it!\"),\n      failure: Drupal.t(\"We need your street name and number.\")\n    });\n  });\n\n  Validation.registerValidationFunction(\"address2\", function(string, done) {\n    return requiredValidator(string, done, {\n      success: Drupal.t(\"Got that too!\"),\n      failure: \"\"\n    });\n  });\n\n  Validation.registerValidationFunction(\"city\", function(string, done) {\n    return requiredValidator(string, done, {\n      success: Drupal.t(\"Sweet, thanks!\"),\n      failure: Drupal.t(\"We need your city.\")\n    });\n  });\n\n  Validation.registerValidationFunction(\"state\", function(string, done) {\n    return requiredValidator(string, done, {\n      success: Drupal.t(\"I \\u2764 @state\", {\"@state\": string}),\n      failure: Drupal.t(\"We need your state.\")\n    });\n  });\n\n  Validation.registerValidationFunction(\"zipcode\", function(string, done) {\n    if( string.match(/^\\d{5}(?:[-\\s]\\d{4})?$/) ) {\n      return done({\n        success: true,\n        message: Drupal.t(\"Almost done!\")\n      });\n    } else {\n      return done({\n        success: false,\n        message: Drupal.t(\"We need your zip code.\")\n      });\n    }\n  });\n\n  Validation.registerValidationFunction(\"why_signedup\", function(string, done) {\n    return requiredValidator(string, done, {\n      success: Drupal.t(\"Thanks for caring!\"),\n      failure: Drupal.t(\"Oops! Can't leave this one blank.\")\n    });\n  });\n\n\n  /**\n   * Custom validation for UPS address fieldset.\n   */\n  Validation.registerValidationFunction(\"ups_address\", function($el, done) {\n    var $sorryError = $(\n      \"<div class='messages error'>\" +\n        \"<strong>\" + Drupal.t(\"We couldn't find that address.\") + \"</strong>\" +\n        Drupal.t(\"Double check for typos and try submitting again.\") +\n      \"</div>\"\n    );\n\n    var $networkError= $(\n      \"<div class='messages error'>\" +\n        Drupal.t(\"We're having trouble submitting the form, are you sure your internet connection is working? Email us if you continue having problems.\") +\n      \"</div>\"\n    );\n\n    var addressFieldData = $el.find(\"select, input\").serializeArray();\n\n    // Remove previous messages.\n    $el.find(\".messages\").slideUp(function() { $(this).remove(); });\n\n    // Once we know we have, submit them to the AJAX endpoint\n    $.ajax({\n      type: \"POST\",\n      url: \"/user/validate/address\",\n      dataType: \"json\",\n      data: addressFieldData,\n      success: function(data) {\n\n        if(data.sorry) {\n          // Address is invalid and we don't have any suggestions\n          $el.append($sorryError).hide().slideDown();\n          return done({ success: false });\n        }\n\n        var hasFieldErrors = false;\n        for(var field in data) {\n          if(data.hasOwnProperty(field) && field !== \"ambiguous\") {\n            var suggestion = data[field];\n            var $fieldEl = $el.find(\"[name='user_address[\" + field + \"]']\");\n\n            // If just capitalizing or adding extra 4-digit to zip, don't show an error\n            if(  (field === \"postal_code\" && $fieldEl.val().slice(0,4) === suggestion.slice(0,4)) || (suggestion === $fieldEl.val().toUpperCase() ) ) {\n              $fieldEl.val( suggestion  );\n            } else {\n              // Otherwise, mark errors and ask user to correct them\n              hasFieldErrors = true;\n\n              Validation.showValidationMessage($fieldEl, {\n                success: false,\n                suggestion: {\n                  full: suggestion,\n                  domain: \"zip\"\n                }\n              });\n            }\n          }\n        }\n\n        if(hasFieldErrors) {\n          done({ success: false });\n        } else {\n          done({ success: true });\n        }\n\n      },\n      error: function() {\n        // We're having trouble getting the validation over AJAX, let's mark as\n        // validated and leave it up to the server just to be safe.\n        $el.append($networkError).hide().slideDown();\n        done({ success: false });\n      }\n    });\n  });\n\n\n  /**\n   * Validators for shirt reward fields:\n   */\n  Validation.registerValidationFunction(\"shirt_size\", function(string, done) {\n    return requiredValidator(string, done, {\n      success: Drupal.t(\"It'll fit great!\"),\n      failure: Drupal.t(\"We need a shirt size!\")\n    });\n  });\n\n  // Shirt style validor\n  // @TODO: add support to radio button validation in Neue\n  Validation.registerValidationFunction(\"shirt_style\", function($el, done) {\n    // collected checked radio's\n    var $checked = $el.find(\"input[type='radio']:checked\");\n\n    // message that will be injected upon error\n    var $errorMsg = $(\n      \"<div class='message error'>\" + Drupal.t(\"We need a shirt style!\") + \"</div>\"\n    );\n\n    // remove the error message before validation\n    $el.find(\".message\").remove();\n\n    if ($checked.length === 1) {\n      done({ success: true });\n    } else {\n      $el.find(\"label:first\").append($errorMsg);\n      done({ success: false });\n    }\n  });\n\n});\n\n","/**\n * @module Analytics\n * Uses Google Analytics custom events API to fire events for client-side\n * Modal and Form Validation flows.\n */\ndefine('Analytics',[\"neue/events\"], function(Events) {\n  \"use strict\";\n\n  // We'll only fire GA Custom Events if the GA object exists\n  if(typeof(_gaq) !== \"undefined\" && _gaq !== null) {\n    // Validation\n    Events.subscribe(\"Validation:InlineError\", function(topic, args) {\n      _gaq.push([\"_trackEvent\", \"Form\", \"Inline Validation Error\", args, null, true]);\n    });\n\n    Events.subscribe(\"Validation:Suggestion\", function(topic, args) {\n      _gaq.push([\"_trackEvent\", \"Form\", \"Suggestion\", args, null, true]);\n    });\n\n    Events.subscribe(\"Validation:SuggestionUsed\", function(topic, args) {\n      _gaq.push([\"_trackEvent\", \"Form\", \"Suggestion Used\", args, null, true]);\n    });\n\n    Events.subscribe(\"Validation:Submitted\", function(topic, args) {\n      _gaq.push([\"_trackEvent\", \"Form\", \"Submitted\", args, null, false]);\n    });\n\n    Events.subscribe(\"Validation:SubmitError\", function(topic, args) {\n      _gaq.push([\"_trackEvent\", \"Form\", \"Validation Error on submit\", args, null, true]);\n    });\n\n    // Modals\n    Events.subscribe(\"Modal:Open\", function(topic, args) {\n      _gaq.push([\"_trackEvent\", \"Modal\", \"Open\", \"#\" + args.attr(\"id\"), null, true]);\n    });\n\n    Events.subscribe(\"Modal:Close\", function(topic, args) {\n      _gaq.push([\"_trackEvent\", \"Modal\", \"Close\", \"#\" + args.attr(\"id\"), null, true]);\n    });\n  }\n\n});\n\n","define('tiles',['require','jquery'],function(require) {\n  \"use strict\";\n\n  var $ = require(\"jquery\");\n\n  // Lazy-load in tile images\n  $(\".tile\").find(\"img\").unveil(200, function() {\n    $(this).load(function() {\n      this.style.opacity = 1;\n    });\n  });\n\n});\n\n"]}