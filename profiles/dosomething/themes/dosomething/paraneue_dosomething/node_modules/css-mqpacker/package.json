{
  "name": "css-mqpacker",
  "description": "Pack same CSS media query rules into one media query rule.",
  "version": "2.1.1",
  "author": {
    "name": "Kyo Nagashima",
    "email": "hail2u@gmail.com",
    "url": "https://kyonagashima.com/"
  },
  "bugs": {
    "url": "https://github.com/hail2u/node-css-mqpacker/issues"
  },
  "dependencies": {
    "postcss": "^3.0.0"
  },
  "devDependencies": {
    "nodeunit": "^0.9.0"
  },
  "homepage": "https://github.com/hail2u/node-css-mqpacker",
  "keywords": [
    "css",
    "optimization",
    "mediaquery",
    "media",
    "query",
    "sourcemap",
    "source",
    "map",
    "postcss"
  ],
  "license": {
    "type": "MIT",
    "url": "http://hail2u.mit-license.org/2014"
  },
  "main": "index.js",
  "repository": {
    "type": "git",
    "url": "https://github.com/hail2u/node-css-mqpacker.git"
  },
  "scripts": {
    "test": "nodeunit test"
  },
  "readme": "CSS MQPacker\n============\n\nPack same CSS media query rules into one media query rule.\n\nWritten with [PostCSS][1].\n\n\nINSTALLATION\n------------\n\n    $ npm install css-mqpacker\n\nOr install as [Grunt plugin][2].\n\n\nQUICK USAGE\n-----------\n\nRead `from.css`, process its content, and output processed CSS to STDOUT.\n\n```js\n#!/usr/bin/env node\n\n'use strict';\n\nvar fs = require('fs');\nvar mqpacker = require('css-mqpacker');\n\nvar original = fs.readFileSync('from.css', 'utf8');\nvar processed = mqpacker.pack(original, {\n  from: 'from.css',\n  map: {\n    inline: false\n  },\n  to: 'to.css'\n});\nconsole.log(processed.css);\n```\n\nIf `test.css` has:\n\n```css\n@charset \"UTF-8\";\n\n.foo::before {\n  content: \"foo on small\";\n}\n\n@media screen and (min-width: 769px) {\n  .foo::before {\n    content: \"foo on medium\";\n  }\n}\n\n.bar::before {\n  content: \"bar on small\";\n}\n\n@media screen and (min-width: 769px) {\n  .bar::before {\n    content: \"bar on medium\";\n  }\n}\n```\n\nYou will get following output:\n\n```css\n@charset \"UTF-8\";\n\n.foo::before {\n  content: \"foo on small\";\n}\n\n.bar::before {\n  content: \"bar on small\";\n}\n\n@media screen and (min-width: 769px) {\n  .foo::before {\n    content: \"foo on medium\";\n  }\n  .bar::before {\n    content: \"bar on medium\";\n  }\n}\n\n/*# sourceMappingURL=to.css.map */\n```\n\nSweet!\n\n\nAPI\n---\n\n### pack(css, [options])\n\nPacks media queries in `css`.\n\nThe second argument is optional. The `options` is same as the second argument of\nPostCSS's `process()` method. This is useful for generating Source Map.\n\n```javascript\nvar fs = require('fs');\nvar mqpacker = require('css-mqpacker');\n\nvar css = fs.readFileSync('from.css', 'utf8');\nvar result = mqpacker.pack(css, {\n  from: 'from.css',\n  map: {\n    inline: false\n  },\n  to: 'to.css'\n});\nfs.writeFileSync('to.css', result.css);\nfs.writeFileSync('to.css.map', result.map);\n```\n\nSee also [PostCSS document][3] for more about `options`.\n\n\n### postcss\n\nReturns [PostCSS processor][4].\n\nYou can use this property for combining with other PostCSS processors such as\n[Autoprefixer][5].\n\n```javascript\nvar autoprefixer = require('autoprefixer');\nvar mqpacker = require('css-mqpacker');\nvar postcss = require('postcss');\n\nvar css = fs.readFileSync('test.css', 'utf8');\npostcss().use(\n  autoprefixer.postcss\n).use(\n  mqpacker.postcss\n).process(css);\n```\n\n\nKNOWN ISSUE\n-----------\n\n### The \"First Win\" Algorithm\n\nCSS MQPacker is implemented with the \"first win\" algorithm. This means:\n\n```css\n.foo {\n  width: 10px;\n}\n\n@media (min-width: 640px) {\n  .foo {\n    width: 150px;\n  }\n}\n\n.bar {\n  width: 20px;\n}\n\n@media (min-width: 320px) {\n  .bar {\n    width: 200px;\n  }\n}\n\n@media (min-width: 640px) {\n  .bar {\n    width: 300px;\n  }\n}\n```\n\nBecomes:\n\n```css\n.foo {\n  width: 10px;\n}\n\n.bar {\n  width: 20px;\n}\n\n@media (min-width: 640px) {\n  .foo {\n    width: 150px;\n  }\n  .bar {\n    width: 300px;\n  }\n}\n\n@media (min-width: 320px) {\n  .bar {\n    width: 200px;\n  }\n}\n```\n\nThis breaks cascading order of `.bar`, and displayed in `200px` instead of\n`300px` if a viewport wider than `640px`.\n\nI suggest defining queries order at first:\n\n```css\n@media (min-width: 320px) { /*! Wider than 320px */ }\n@media (min-width: 640px) { /*! Wider than 640px */ }\n```\n\n\n### Multiple Classes\n\nCSS MQPacker changes order of rulesets. This may breaks CSS applying order.\n\n```css\n@media (min-width: 320px) {\n  .foo {\n    width: 100px;\n  }\n}\n\n@media (min-width: 640px) {\n  .bar {\n    width: 200px;\n  }\n}\n\n@media (min-width: 320px) {\n  .baz {\n    width: 300px;\n  }\n}\n```\n\nBecomes:\n\n```css\n@media (min-width: 320px) {\n  .foo {\n    width: 100px;\n  }\n  .baz {\n    width: 300px;\n  }\n}\n\n@media (min-width: 640px) {\n  .bar {\n    width: 200px;\n  }\n}\n```\n\nFine. But If a HTML element has `class=\"bar baz\"` and viewport width larget than\n`640px`, that element `width` incorrectly set to `200px` instead of `300px`.\n\n\nLICENSE\n-------\n\nMIT: http://hail2u.mit-license.org/2014\n\n\n[1]: https://github.com/ai/postcss\n[2]: https://github.com/hail2u/grunt-css-mqpacker\n[3]: https://github.com/postcss/postcss#source-map-1\n[4]: https://github.com/postcss/postcss#processor\n[5]: https://github.com/postcss/autoprefixer-core\n",
  "readmeFilename": "README.md",
  "_id": "css-mqpacker@2.1.1",
  "_shasum": "9b23366accf494a4a552b0e9f35b5502bd9ac665",
  "_from": "css-mqpacker@^2.0.0",
  "_resolved": "https://registry.npmjs.org/css-mqpacker/-/css-mqpacker-2.1.1.tgz"
}
